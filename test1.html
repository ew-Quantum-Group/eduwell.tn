<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Apple TV+ · refined hero</title>
  <style>
    /* reset & base */
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #f5f5f7;
      font-family: -apple-system, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* navigation (unchanged, just for context) */
    nav {
      height: 48px;
      background: rgba(251, 251, 253, 0.94);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 0.5px solid rgba(0, 0, 0, 0.12);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      position: sticky;
      top: 0;
      z-index: 200;
    }
    .nav-apple svg {
      width: 18px;
      height: 22px;
      fill: #1d1d1f;
      display: block;
    }
    .nav-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .nav-right svg {
      width: 19px;
      height: 19px;
      fill: none;
      stroke: #1d1d1f;
      stroke-width: 1.6;
      stroke-linecap: round;
      stroke-linejoin: round;
      cursor: pointer;
      transition: opacity 0.15s;
    }
    .nav-right svg:hover {
      opacity: 0.5;
    }

    /* carousel outer */
    .carousel-outer {
      position: relative;
      overflow: hidden;
      background: #000;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.48s cubic-bezier(0.32, 0.72, 0, 1);
      will-change: transform;
    }

    /* hero-card — exact same dimensions, flex centering */
    .hero-card {
      min-width: 100%;
      position: relative;
      overflow: hidden;
      user-select: none;
      flex-shrink: 0;
      height: 50vh;                /* consistent height */
      display: flex;               /* activate flex for absolute-free centering */
      align-items: center;         /* vertical centering */
      justify-content: center;      /* horizontal centering */
    }

    /* background image */
    .hero-card img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      pointer-events: none;
      transform-origin: center center;
      transform: scale(1);
      transition: transform 7s ease;
      z-index: 1;
    }

    .hero-card.active img {
      transform: scale(1.05);
    }

    /* overlay gradient – also full cover, placed above img */
    .hero-card .overlay {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.15) 0%,
        rgba(0, 0, 0, 0.45) 50%,
        rgba(0, 0, 0, 0.75) 100%
      );
      z-index: 2;
      pointer-events: none;        /* so buttons inside stay clickable */
    }

    /* text container — centered using flex on parent + this block */
    .hero-content {
      position: relative;          /* above overlay & image */
      z-index: 3;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      width: 100%;
      max-width: 340px;            /* slightly wider to accommodate longer taglines */
      padding: 0 20px;
      pointer-events: auto;        /* re-enable click for buttons */
      /* removed opacity transition – we control children */
    }

    /* each piece fades in independently */
    .service-badge,
    .hero-title,
    .hero-meta,
    .hero-tagline,
    .hero-actions {
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .hero-card.active .service-badge  { opacity: 1; transition-delay: 0.08s; }
    .hero-card.active .hero-title     { opacity: 1; transition-delay: 0.18s; }
    .hero-card.active .hero-meta      { opacity: 1; transition-delay: 0.26s; }
    .hero-card.active .hero-tagline   { opacity: 1; transition-delay: 0.32s; }
    .hero-card.active .hero-actions   { opacity: 1; transition-delay: 0.38s; }

    /* badge */
    .service-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      margin-bottom: 10px;
    }

    .service-badge .apple-glyph {
      width: 10px;
      height: 12px;
      fill: #fff;
    }

    .service-badge span {
      font-size: 12px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.92);
    }

    .service-badge .plus {
      font-size: 10px;
      font-weight: 300;
      margin-left: -1px;
      color: rgba(255, 255, 255, 0.92);
    }

    /* title */
    .hero-title {
      font-size: 38px;
      font-weight: 700;
      color: #fff;
      letter-spacing: -1.5px;
      line-height: 1.0;
      margin-bottom: 6px;
      font-style: italic;
      width: 100%;
      text-align: center;
    }

    /* meta (genre) */
    .hero-meta {
      font-size: 11px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.82);
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 6px;
      width: 100%;
      text-align: center;
    }

    /* tagline */
    .hero-tagline {
      font-size: 13px;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.78);
      margin-bottom: 18px;
      line-height: 1.4;
      width: 100%;
      max-width: 280px;            /* better readability */
      text-align: center;
    }

    /* action buttons */
    .hero-actions {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .btn-primary {
      background: #fff;
      color: #1d1d1f;
      border: none;
      border-radius: 980px;
      padding: 9px 22px;
      font-size: 13px;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      transition: background 0.15s, transform 0.15s;
    }
    .btn-primary:hover {
      background: rgba(255, 255, 255, 0.88);
      transform: scale(0.97);
    }
    .btn-primary:active {
      transform: scale(0.94);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.16);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.38);
      border-radius: 980px;
      padding: 9px 18px;
      font-size: 13px;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      backdrop-filter: blur(8px);
      transition: background 0.15s, transform 0.15s;
    }
    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(0.97);
    }

    /* arrows */
    .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 20;                 /* above content */
      background: rgba(255, 255, 255, 0.16);
      border: none;
      border-radius: 50%;
      width: 34px;
      height: 34px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      backdrop-filter: blur(12px);
      transition: background 0.2s, opacity 0.25s;
      opacity: 0;
      pointer-events: auto;
    }
    .carousel-outer:hover .arrow {
      opacity: 1;
    }
    .arrow:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    .arrow svg {
      width: 14px;
      height: 14px;
      stroke: #fff;
      stroke-width: 2.5;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
    }
    .arrow-prev {
      left: 12px;
    }
    .arrow-next {
      right: 12px;
    }

    /* progress dots */
    .progress-wrap {
      padding: 9px 0 5px;
      background: #f5f5f7;
      display: flex;
      justify-content: center;
      gap: 5px;
      align-items: center;
    }
    .prog-dot {
      height: 3.5px;
      border-radius: 2px;
      background: #c7c7cc;
      cursor: pointer;
      transition: width 0.35s ease, background 0.25s;
      width: 14px;
    }
    .prog-dot.active {
      width: 26px;
      background: #1d1d1f;
    }
  </style>
</head>
<body>
  <!-- minimal nav (cosmetic) -->
  <nav>
    <div class="nav-apple">
      <svg viewBox="0 0 814 1000">
        <path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76 0-103.7 40.8-165.9 40.8s-105-57.8-155.5-127.4C46 442.9 0 332.4 0 226.8c0-168.3 109.7-257.6 217.4-257.6 64.8 0 118.6 42.5 159.3 42.5 38.8 0 99.9-45.2 172.4-45.2 27.5 0 126.1 2.6 197.3 97.2z"/>
        <path d="M504.1 55.5C534.2 20.9 555.7-.3 554.7 0c-1 .3-7.9 1.3-14.3 3.8-80.8 30.9-132.5 119.8-128.9 208.1.3 7.9.8 19.9 1.3 28.1 5.8-1.5 11.3-3.2 16.3-5.1 45.7-17.8 95.4-56.8 125-179.4z"/>
      </svg>
    </div>
    <div class="nav-right">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M5.5 20v-2.5c0-2.5 2-4.5 4.5-4.5h4c2.5 0 4.5 2 4.5 4.5V20"/></svg>
      <svg viewBox="0 0 24 24"><rect x="4" y="8" width="16" height="12" rx="1"/><path d="M8 4v4M16 4v4"/></svg>
    </div>
  </nav>

  <!-- CAROUSEL FIXED: all text perfectly centered -->
  <div class="carousel-outer" id="carouselOuter">
    <button class="arrow arrow-prev" id="arrowPrev" aria-label="Previous">
      <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
    </button>
    <button class="arrow arrow-next" id="arrowNext" aria-label="Next">
      <svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg>
    </button>

    <div class="carousel-track" id="carouselTrack">
      <!-- slide 1 -->
      <div class="hero-card active">
        <img src="https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?w=700&q=85" alt="Eternity">
        <div class="overlay"></div>  <!-- separate overlay -->
        <div class="hero-content">   <!-- new unified content container -->
          <div class="service-badge">
            <svg class="apple-glyph" viewBox="0 0 814 1000"><path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76 0-103.7 40.8-165.9 40.8s-105-57.8-155.5-127.4C46 442.9 0 332.4 0 226.8c0-168.3 109.7-257.6 217.4-257.6 64.8 0 118.6 42.5 159.3 42.5 38.8 0 99.9-45.2 172.4-45.2 27.5 0 126.1 2.6 197.3 97.2z"/><path d="M504.1 55.5C534.2 20.9 555.7-.3 554.7 0c-1 .3-7.9 1.3-14.3 3.8-80.8 30.9-132.5 119.8-128.9 208.1.3 7.9.8 19.9 1.3 28.1 5.8-1.5 11.3-3.2 16.3-5.1 45.7-17.8 95.4-56.8 125-179.4z"/></svg>
            <span>TV</span><span class="plus">+</span>
          </div>
          <div class="hero-title">Eternity</div>
          <div class="hero-meta">Romance</div>
          <div class="hero-tagline">Do you believe in love after life?</div>
          <div class="hero-actions">
            <button class="btn-primary">Stream now</button>
            <button class="btn-secondary">More info</button>
          </div>
        </div>
      </div>

      <!-- slide 2 -->
      <div class="hero-card">
        <img src="https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?w=700&q=85" alt="Stellar">
        <div class="overlay"></div>
        <div class="hero-content">
          <div class="service-badge">
            <svg class="apple-glyph" viewBox="0 0 814 1000"><path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76 0-103.7 40.8-165.9 40.8s-105-57.8-155.5-127.4C46 442.9 0 332.4 0 226.8c0-168.3 109.7-257.6 217.4-257.6 64.8 0 118.6 42.5 159.3 42.5 38.8 0 99.9-45.2 172.4-45.2 27.5 0 126.1 2.6 197.3 97.2z"/><path d="M504.1 55.5C534.2 20.9 555.7-.3 554.7 0c-1 .3-7.9 1.3-14.3 3.8-80.8 30.9-132.5 119.8-128.9 208.1.3 7.9.8 19.9 1.3 28.1 5.8-1.5 11.3-3.2 16.3-5.1 45.7-17.8 95.4-56.8 125-179.4z"/></svg>
            <span>TV</span><span class="plus">+</span>
          </div>
          <div class="hero-title">Stellar</div>
          <div class="hero-meta">Sci-Fi</div>
          <div class="hero-tagline">The universe holds its breath.</div>
          <div class="hero-actions">
            <button class="btn-primary">Stream now</button>
            <button class="btn-secondary">More info</button>
          </div>
        </div>
      </div>

      <!-- slide 3 -->
      <div class="hero-card">
        <img src="https://images.unsplash.com/photo-1478720568477-152d9b164e26?w=700&q=85" alt="Silence">
        <div class="overlay"></div>
        <div class="hero-content">
          <div class="service-badge">
            <svg class="apple-glyph" viewBox="0 0 814 1000"><path d="M788.1 340.9c-5.8 4.5-108.2 62.2-108.2 190.5 0 148.4 130.3 200.9 134.2 202.2-.6 3.2-20.7 71.9-68.7 141.9-42.8 61.6-87.5 123.1-155.5 123.1s-85.5-39.5-164-39.5c-76 0-103.7 40.8-165.9 40.8s-105-57.8-155.5-127.4C46 442.9 0 332.4 0 226.8c0-168.3 109.7-257.6 217.4-257.6 64.8 0 118.6 42.5 159.3 42.5 38.8 0 99.9-45.2 172.4-45.2 27.5 0 126.1 2.6 197.3 97.2z"/><path d="M504.1 55.5C534.2 20.9 555.7-.3 554.7 0c-1 .3-7.9 1.3-14.3 3.8-80.8 30.9-132.5 119.8-128.9 208.1.3 7.9.8 19.9 1.3 28.1 5.8-1.5 11.3-3.2 16.3-5.1 45.7-17.8 95.4-56.8 125-179.4z"/></svg>
            <span>TV</span><span class="plus">+</span>
          </div>
          <div class="hero-title">Silence</div>
          <div class="hero-meta">Drama</div>
          <div class="hero-tagline">Some secrets demand to be heard.</div>
          <div class="hero-actions">
            <button class="btn-primary">Stream now</button>
            <button class="btn-secondary">More info</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- progress dots -->
  <div class="progress-wrap">
    <div class="prog-dot active" data-idx="0"></div>
    <div class="prog-dot" data-idx="1"></div>
    <div class="prog-dot" data-idx="2"></div>
  </div>

  <script>
    (function() {
      const track = document.getElementById('carouselTrack');
      const cards = Array.from(track.querySelectorAll('.hero-card'));
      const dots = Array.from(document.querySelectorAll('.prog-dot'));
      const total = cards.length;
      let current = 0;
      let startX = 0;
      let dragging = false;
      let autoTimer;

      // core function: update slide + active class + dots
      function goTo(idx) {
        // remove active from current card
        cards[current].classList.remove('active');
        // compute new index (wrap safely)
        current = ((idx % total) + total) % total;
        // move track
        track.style.transform = `translateX(-${current * 100}%)`;
        // use double rAF to ensure active class adds after transform (smooth fade)
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            cards[current].classList.add('active');
          });
        });
        // update dots
        dots.forEach((dot, i) => dot.classList.toggle('active', i === current));

        // restart auto timer
        clearInterval(autoTimer);
        autoTimer = setInterval(() => goTo(current + 1), 5500);
      }

      // event listeners
      dots.forEach(dot => {
        dot.addEventListener('click', () => goTo(parseInt(dot.dataset.idx)));
      });

      document.getElementById('arrowPrev').addEventListener('click', () => goTo(current - 1));
      document.getElementById('arrowNext').addEventListener('click', () => goTo(current + 1));

      // touch drag
      track.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
      }, { passive: true });

      track.addEventListener('touchend', (e) => {
        const diff = startX - e.changedTouches[0].clientX;
        if (Math.abs(diff) > 42) {
          goTo(diff > 0 ? current + 1 : current - 1);
        }
      });

      // mouse drag simulation
      track.addEventListener('mousedown', (e) => {
        startX = e.clientX;
        dragging = true;
        e.preventDefault(); // avoid accidental selection
      });

      window.addEventListener('mouseup', (e) => {
        if (!dragging) return;
        dragging = false;
        const diff = startX - e.clientX;
        if (Math.abs(diff) > 42) {
          goTo(diff > 0 ? current + 1 : current - 1);
        }
      });

      // prevent track mouse drag from triggering page text selection
      track.addEventListener('dragstart', (e) => e.preventDefault());

      // initial active and timer
      cards.forEach((c, i) => c.classList.toggle('active', i === current));
      autoTimer = setInterval(() => goTo(current + 1), 5500);

      // optional: pause timer on hover (keeps ux nice)
      document.getElementById('carouselOuter').addEventListener('mouseenter', () => {
        clearInterval(autoTimer);
      });
      document.getElementById('carouselOuter').addEventListener('mouseleave', () => {
        clearInterval(autoTimer);
        autoTimer = setInterval(() => goTo(current + 1), 5500);
      });
    })();
  </script>
</body>
</html>