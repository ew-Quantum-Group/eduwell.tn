<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sahl – Learn Effortlessly</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;0,700;0,800;1,500;1,700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>

/* ═══════════════════════════════════════════
   DESIGN TOKENS — LIGHT ONLY
═══════════════════════════════════════════ */
:root {
  /* Backgrounds */
  --bg:           #faf9f7;
  --bg-card:      #ffffff;
  --bg-soft:      #f4f1eb;
  --bg-mid:       #edeae1;
  --bg-hover:     #e8e4da;

  /* Brand */
  --violet:       #5b3de8;
  --violet-2:     #7c63ef;
  --violet-3:     #a891f7;
  --violet-tint:  #f0ecff;
  --violet-ghost: rgba(91,61,232,0.07);
  --violet-border:rgba(91,61,232,0.18);

  /* Ink */
  --ink:          #0f0d18;
  --ink-2:        #3d3a50;
  --ink-3:        #7a768f;
  --ink-4:        #aea9c4;

  /* Accents */
  --gold:         #e8a020;
  --gold-tint:    #fff8ec;
  --teal:         #0fb8a6;
  --teal-tint:    #eafaf8;
  --rose:         #e84560;
  --rose-tint:    #fff0f3;

  /* Utility */
  --border:       rgba(15,13,24,0.08);
  --border-mid:   rgba(15,13,24,0.12);
  --shadow-xs:    0 1px 4px rgba(15,13,24,0.06);
  --shadow-sm:    0 4px 16px rgba(15,13,24,0.07);
  --shadow-md:    0 8px 32px rgba(91,61,232,0.10);
  --shadow-lg:    0 20px 60px rgba(91,61,232,0.15);
  --shadow-xl:    0 32px 80px rgba(15,13,24,0.18);

  /* Radii */
  --r-xs: 6px;
  --r-sm: 10px;
  --r-md: 14px;
  --r-lg: 20px;
  --r-xl: 26px;
  --r-2xl:34px;

  /* Motion */
  --ease:   cubic-bezier(.4,0,.2,1);
  --spring: cubic-bezier(.34,1.56,.64,1);
  --t:      0.28s;

  /* Nav */
  --nav-h: 68px;
}

/* ═══════════════════════════════════════════
   RESET & BASE
═══════════════════════════════════════════ */
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html { scroll-behavior:smooth; font-size:16px; }
body {
  font-family:'Plus Jakarta Sans',sans-serif;
  background:var(--bg);
  color:var(--ink);
  overflow-x:hidden;
  line-height:1.6;
}
a { text-decoration:none; color:inherit; }
button { cursor:pointer; border:none; background:none; font-family:inherit; }
img { display:block; max-width:100%; }
::-webkit-scrollbar { width:5px; height:5px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:var(--violet-border); border-radius:10px; }

/* ═══════════════════════════════════════════
   INLINE SVG ICON SYSTEM
═══════════════════════════════════════════ */
.icon { display:inline-flex; align-items:center; justify-content:center; flex-shrink:0; }
.icon svg { display:block; }

/* ═══════════════════════════════════════════
   NAVBAR
═══════════════════════════════════════════ */
.nav {
  position:sticky; top:0; z-index:900;
  height:var(--nav-h);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 clamp(1rem,4vw,2.5rem);
  background:rgba(250,249,247,0.90);
  backdrop-filter:blur(24px) saturate(1.5);
  -webkit-backdrop-filter:blur(24px) saturate(1.5);
  border-bottom:1px solid var(--border);
}

/* Brand */
.nav-brand { display:flex; align-items:center; gap:11px; }
.nav-logo-wrap {
  width:38px; height:38px; border-radius:11px;
  background:linear-gradient(145deg,var(--violet),var(--violet-2));
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 4px 14px rgba(91,61,232,.35);
  transition:transform .35s var(--spring), box-shadow .3s;
}
.nav-brand:hover .nav-logo-wrap {
  transform:rotate(-8deg) scale(1.08);
  box-shadow:0 8px 24px rgba(91,61,232,.45);
}
.nav-brand-name {
  font-family:'Playfair Display',serif;
  font-size:1.55rem; font-weight:700;
  color:var(--ink); letter-spacing:-.4px;
}
.nav-brand-name span { color:var(--violet); }

/* Desktop links */
.nav-center {
  display:flex; align-items:center; gap:2px;
  background:var(--bg-soft);
  border:1px solid var(--border);
  border-radius:var(--r-2xl);
  padding:4px;
}
.nav-pill {
  display:flex; align-items:center; gap:7px;
  padding:7px 16px; border-radius:22px;
  font-size:.85rem; font-weight:600; color:var(--ink-3);
  transition:all .2s; white-space:nowrap;
}
.nav-pill:hover { color:var(--violet); background:var(--bg-card); }
.nav-pill.active {
  color:var(--violet); background:var(--bg-card);
  box-shadow:var(--shadow-xs);
}
.nav-pill .icon { opacity:.65; }
.nav-pill.active .icon, .nav-pill:hover .icon { opacity:1; }

/* Right actions */
.nav-actions { display:flex; align-items:center; gap:10px; }
.nav-icon-btn {
  width:38px; height:38px; border-radius:var(--r-sm);
  display:flex; align-items:center; justify-content:center;
  color:var(--ink-3); background:var(--bg-soft); border:1px solid var(--border);
  transition:all .2s;
}
.nav-icon-btn:hover { color:var(--violet); border-color:var(--violet-border); background:var(--violet-ghost); }

.nav-avatar {
  width:38px; height:38px; border-radius:var(--r-sm);
  background:linear-gradient(135deg,var(--violet-tint),#e0d8ff);
  border:2px solid var(--violet-border);
  display:flex; align-items:center; justify-content:center;
  font-size:.8rem; font-weight:700; color:var(--violet);
  transition:all .2s; cursor:pointer;
}
.nav-avatar:hover { border-color:var(--violet); box-shadow:0 0 0 3px var(--violet-ghost); }

/* Burger */
.burger {
  display:none; width:40px; height:40px;
  border-radius:var(--r-sm); background:var(--bg-soft);
  border:1px solid var(--border);
  flex-direction:column; align-items:center; justify-content:center;
  gap:5px; transition:all .2s;
}
.burger:hover { border-color:var(--violet-border); background:var(--violet-ghost); }
.burger span {
  display:block; border-radius:2px; background:var(--ink-2);
  transition:all .3s var(--ease);
}
.burger span:nth-child(1) { width:18px; height:2px; }
.burger span:nth-child(2) { width:14px; height:2px; }
.burger span:nth-child(3) { width:18px; height:2px; }
.burger.open span:nth-child(1) { transform:translateY(7px) rotate(45deg); width:18px; }
.burger.open span:nth-child(2) { opacity:0; transform:scaleX(0); }
.burger.open span:nth-child(3) { transform:translateY(-7px) rotate(-45deg); width:18px; }

/* Drawer */
.drawer-scrim {
  position:fixed; inset:0; z-index:898;
  background:rgba(15,13,24,.25);
  backdrop-filter:blur(4px);
  opacity:0; pointer-events:none; transition:opacity .3s;
}
.drawer-scrim.open { opacity:1; pointer-events:all; }
.drawer {
  position:fixed; top:var(--nav-h); right:0; bottom:0;
  width:min(300px,86vw);
  background:var(--bg-card);
  border-left:1px solid var(--border);
  padding:1.2rem;
  z-index:899; display:flex; flex-direction:column; gap:.3rem;
  transform:translateX(100%);
  transition:transform .38s var(--ease);
  box-shadow:var(--shadow-xl);
}
.drawer.open { transform:translateX(0); }
.drawer-item {
  display:flex; align-items:center; gap:12px;
  padding:12px 14px; border-radius:var(--r-md);
  font-size:.92rem; font-weight:500; color:var(--ink-2);
  width:100%; text-align:left; transition:all .2s;
}
.drawer-item:hover { background:var(--violet-ghost); color:var(--violet); }
.drawer-item .icon { color:var(--ink-3); }
.drawer-item:hover .icon { color:var(--violet); }
.drawer-sep { height:1px; background:var(--border); margin:.5rem 0; }
.drawer-label {
  font-size:.68rem; font-weight:700; letter-spacing:.1em;
  text-transform:uppercase; color:var(--ink-4);
  padding:4px 14px 2px;
}

/* ═══════════════════════════════════════════
   HERO
═══════════════════════════════════════════ */
.hero {
  max-width:1340px; margin:0 auto;
  padding:clamp(3.5rem,8vw,6.5rem) clamp(1rem,4vw,2.5rem) clamp(2rem,4vw,3rem);
}
.hero-badge {
  display:inline-flex; align-items:center; gap:8px;
  background:var(--violet-tint); border:1px solid var(--violet-border);
  border-radius:var(--r-2xl); padding:6px 16px 6px 8px;
  font-size:.72rem; font-weight:700; color:var(--violet);
  letter-spacing:.08em; text-transform:uppercase; margin-bottom:1.6rem;
}
.hero-badge-dot {
  width:24px; height:24px; border-radius:50%;
  background:linear-gradient(135deg,var(--violet),var(--violet-2));
  display:flex; align-items:center; justify-content:center;
}
.hero h1 {
  font-family:'Playfair Display',serif;
  font-size:clamp(2.8rem,6.5vw,5.2rem);
  font-weight:800; line-height:1.06; letter-spacing:-2px;
  color:var(--ink); max-width:700px;
}
.hero h1 em { font-style:italic; color:var(--violet); }
.hero-desc {
  margin-top:1.3rem; font-size:1.02rem; color:var(--ink-3);
  max-width:480px; line-height:1.8; font-weight:400;
}
.hero-cta { display:flex; gap:12px; margin-top:2.2rem; flex-wrap:wrap; align-items:center; }
.btn-primary {
  display:flex; align-items:center; gap:8px;
  background:var(--violet); color:#fff;
  font-weight:600; font-size:.9rem;
  padding:13px 26px; border-radius:var(--r-md);
  box-shadow:0 6px 24px rgba(91,61,232,.35);
  transition:all var(--t) var(--ease);
}
.btn-primary:hover { background:var(--violet-2); transform:translateY(-2px); box-shadow:0 12px 36px rgba(91,61,232,.42); }
.btn-secondary {
  display:flex; align-items:center; gap:8px;
  background:var(--bg-card); color:var(--ink-2);
  font-weight:600; font-size:.9rem;
  padding:12px 24px; border-radius:var(--r-md);
  border:1.5px solid var(--border-mid);
  transition:all .2s;
}
.btn-secondary:hover { border-color:var(--violet-border); color:var(--violet); background:var(--violet-ghost); }

/* Stats strip */
.hero-stats {
  display:flex; gap:0; margin-top:3.5rem;
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--r-xl); overflow:hidden;
  width:fit-content; box-shadow:var(--shadow-sm);
}
.hstat {
  padding:1.1rem 2rem; border-right:1px solid var(--border);
  display:flex; flex-direction:column; gap:2px;
}
.hstat:last-child { border-right:none; }
.hstat-val {
  font-family:'Playfair Display',serif;
  font-size:1.7rem; font-weight:700; color:var(--violet); line-height:1;
}
.hstat-lbl { font-size:.72rem; color:var(--ink-3); font-weight:500; letter-spacing:.03em; }

/* ═══════════════════════════════════════════
   SECTION CHROME
═══════════════════════════════════════════ */
.section { padding:clamp(2rem,4vw,3.5rem) 0; }
.sec-head {
  display:flex; align-items:flex-end; justify-content:space-between;
  padding:0 clamp(1rem,4vw,2.5rem);
  max-width:1340px; margin:0 auto 1.5rem;
}
.sec-left { display:flex; flex-direction:column; gap:3px; }
.sec-eyebrow {
  font-size:.65rem; font-weight:700; letter-spacing:.15em;
  text-transform:uppercase; color:var(--violet);
}
.sec-title {
  font-family:'Playfair Display',serif;
  font-size:clamp(1.4rem,2.5vw,1.9rem); font-weight:700;
  color:var(--ink); letter-spacing:-.3px; line-height:1.15;
}
.sec-link {
  display:flex; align-items:center; gap:5px;
  font-size:.8rem; font-weight:600; color:var(--violet);
  opacity:.7; transition:opacity .2s; padding-bottom:2px;
}
.sec-link:hover { opacity:1; }

/* ═══════════════════════════════════════════
   HORIZONTAL RAIL
═══════════════════════════════════════════ */
.rail {
  display:flex; gap:1rem;
  padding:.5rem clamp(1rem,4vw,2.5rem) 1.2rem;
  overflow-x:auto; scroll-snap-type:x mandatory;
  scroll-behavior:smooth; -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.rail::-webkit-scrollbar { display:none; }

/* ═══════════════════════════════════════════
   WHAT'S NEW CARDS
═══════════════════════════════════════════ */
.wn-card {
  flex:0 0 min(360px,80vw); height:240px;
  border-radius:var(--r-xl); overflow:hidden;
  position:relative; scroll-snap-align:start;
  cursor:pointer; box-shadow:var(--shadow-md);
  transition:transform var(--t) var(--ease), box-shadow var(--t) var(--ease);
}
.wn-card:hover { transform:translateY(-8px) scale(1.015); box-shadow:var(--shadow-lg); }
.wn-bg {
  position:absolute; inset:0;
  background-size:cover; background-position:center;
  transition:transform .6s var(--ease);
}
.wn-card:hover .wn-bg { transform:scale(1.07); }
.wn-overlay {
  position:absolute; inset:0;
  background:linear-gradient(175deg, rgba(10,8,25,.04) 0%, rgba(10,8,25,.82) 100%);
}
.wn-body { position:absolute; inset:0; display:flex; flex-direction:column; justify-content:space-between; padding:1.2rem 1.3rem; }
.wn-top { display:flex; justify-content:space-between; align-items:flex-start; }
.wn-chip {
  display:inline-flex; align-items:center; gap:5px;
  padding:4px 11px; border-radius:var(--r-2xl);
  font-size:.64rem; font-weight:700; letter-spacing:.08em;
  text-transform:uppercase; backdrop-filter:blur(8px);
}
.wn-chip.violet { background:rgba(91,61,232,.85); color:#fff; }
.wn-chip.gold   { background:rgba(232,160,32,.9); color:#fff; }
.wn-chip.teal   { background:rgba(15,184,166,.9); color:#fff; }
.wn-chip.rose   { background:rgba(232,69,96,.9);  color:#fff; }
.wn-corner-btn {
  width:32px; height:32px; border-radius:50%;
  background:rgba(255,255,255,.15);
  border:1px solid rgba(255,255,255,.22);
  backdrop-filter:blur(8px);
  display:flex; align-items:center; justify-content:center;
  color:#fff; transition:all .25s;
}
.wn-card:hover .wn-corner-btn { background:rgba(255,255,255,.28); transform:translate(2px,-2px); }
.wn-bottom {}
.wn-card h3 {
  font-family:'Playfair Display',serif;
  font-size:1.15rem; font-weight:700; color:#fff;
  line-height:1.3; margin-bottom:.4rem;
}
.wn-card p { font-size:.78rem; color:rgba(255,255,255,.68); line-height:1.55; }

/* ═══════════════════════════════════════════
   SUBJECT CARDS
═══════════════════════════════════════════ */
.subj-card {
  flex:0 0 min(140px,34vw); aspect-ratio:1;
  border-radius:var(--r-xl);
  background:var(--bg-card);
  border:1.5px solid var(--border);
  box-shadow:var(--shadow-sm);
  display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:.65rem;
  scroll-snap-align:start; cursor:pointer;
  position:relative; overflow:hidden;
  transition:all var(--t) var(--ease);
}
.subj-shine {
  position:absolute; inset:0;
  background:linear-gradient(145deg,var(--violet),var(--violet-2));
  opacity:0; transition:opacity var(--t) var(--ease);
}
.subj-card:hover { transform:translateY(-6px) scale(1.04); box-shadow:var(--shadow-lg); border-color:transparent; }
.subj-card:hover .subj-shine { opacity:1; }
.subj-icon-wrap {
  width:46px; height:46px; border-radius:var(--r-md);
  display:flex; align-items:center; justify-content:center;
  position:relative; z-index:1;
  transition:transform .3s var(--spring);
}
.subj-card:hover .subj-icon-wrap { transform:scale(1.15) translateY(-2px); }
.subj-icon-wrap svg { transition:all .25s; }
.subj-card:hover .subj-icon-wrap svg path,
.subj-card:hover .subj-icon-wrap svg circle,
.subj-card:hover .subj-icon-wrap svg rect,
.subj-card:hover .subj-icon-wrap svg polygon,
.subj-card:hover .subj-icon-wrap svg line,
.subj-card:hover .subj-icon-wrap svg polyline { stroke:rgba(255,255,255,.9) !important; }
.subj-card:hover .subj-icon-wrap svg .fill-icon { fill:rgba(255,255,255,.9) !important; stroke:none !important; }
.subj-name {
  font-size:.82rem; font-weight:700; color:var(--ink);
  position:relative; z-index:1; transition:color .25s;
}
.subj-card:hover .subj-name { color:#fff; }
.subj-count {
  font-size:.67rem; color:var(--ink-4);
  position:relative; z-index:1; transition:color .25s;
}
.subj-card:hover .subj-count { color:rgba(255,255,255,.72); }

/* ═══════════════════════════════════════════
   VIDEO CARDS
═══════════════════════════════════════════ */
.vid-card {
  flex:0 0 min(278px,76vw);
  border-radius:var(--r-xl);
  background:var(--bg-card); border:1px solid var(--border);
  overflow:hidden; scroll-snap-align:start;
  cursor:pointer; box-shadow:var(--shadow-sm);
  transition:all var(--t) var(--ease);
}
.vid-card:hover { transform:translateY(-7px); box-shadow:var(--shadow-lg); }
.vid-thumb { position:relative; aspect-ratio:16/9; overflow:hidden; }
.vid-thumb-bg {
  width:100%; height:100%;
  background-size:cover; background-position:center;
  transition:transform .55s var(--ease);
}
.vid-card:hover .vid-thumb-bg { transform:scale(1.08); }
.vid-dur {
  position:absolute; bottom:9px; right:9px;
  background:rgba(10,8,25,.72); backdrop-filter:blur(6px);
  color:#fff; font-size:.68rem; font-weight:600;
  padding:3px 9px; border-radius:var(--r-xs);
  letter-spacing:.03em;
}
.vid-play-ov {
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(91,61,232,.28);
  opacity:0; transition:opacity .28s;
}
.vid-card:hover .vid-play-ov { opacity:1; }
.play-ring {
  width:52px; height:52px; border-radius:50%;
  background:rgba(255,255,255,.95);
  box-shadow:0 6px 24px rgba(91,61,232,.3);
  display:flex; align-items:center; justify-content:center;
  transition:transform var(--spring) .05s;
}
.vid-card:hover .play-ring { transform:scale(1.12); }
.vid-body { padding:1rem 1.1rem 1.1rem; }
.vid-subj {
  font-size:.63rem; font-weight:700; letter-spacing:.1em;
  text-transform:uppercase; color:var(--violet); margin-bottom:.35rem;
}
.vid-title {
  font-size:.88rem; font-weight:600; color:var(--ink);
  line-height:1.45; margin-bottom:.45rem;
  display:-webkit-box; -webkit-line-clamp:2;
  -webkit-box-orient:vertical; overflow:hidden;
}
.vid-meta { display:flex; align-items:center; gap:8px; font-size:.72rem; color:var(--ink-4); }
.vid-meta-sep { width:3px; height:3px; border-radius:50%; background:var(--ink-4); }

/* ═══════════════════════════════════════════
   SKELETON LOADING
═══════════════════════════════════════════ */
.skel {
  background:linear-gradient(90deg, var(--bg-soft) 25%, var(--bg-mid) 50%, var(--bg-soft) 75%);
  background-size:300% 100%;
  animation:shimmer 1.7s infinite;
  border-radius:var(--r-xl);
}
@keyframes shimmer { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* ═══════════════════════════════════════════
   MODAL SYSTEM
═══════════════════════════════════════════ */
.backdrop {
  position:fixed; inset:0; z-index:1000;
  display:flex; align-items:center; justify-content:center;
  padding:clamp(.5rem,3vw,1.2rem);
  background:rgba(10,8,25,.55);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  opacity:0; pointer-events:none; transition:opacity .3s;
}
.backdrop.open { opacity:1; pointer-events:all; }

.modal {
  width:100%; max-height:94vh;
  background:var(--bg);
  border:1px solid var(--border-mid);
  border-radius:var(--r-xl);
  box-shadow:var(--shadow-xl);
  overflow:hidden; display:flex; flex-direction:column;
  transform:translateY(30px) scale(.97);
  transition:transform .42s var(--spring), opacity .3s;
  opacity:0;
}
.backdrop.open .modal { transform:translateY(0) scale(1); opacity:1; }

.mhdr {
  display:flex; align-items:center; justify-content:space-between;
  padding:1.2rem 1.6rem; border-bottom:1px solid var(--border);
  background:var(--bg-card); flex-shrink:0;
  gap:1rem;
}
.mhdr-info { display:flex; flex-direction:column; gap:2px; min-width:0; }
.mhdr-title {
  font-family:'Playfair Display',serif;
  font-size:1.25rem; font-weight:700; color:var(--ink);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.mhdr-sub { font-size:.73rem; color:var(--ink-3); font-weight:500; }

.mhdr-actions { display:flex; align-items:center; gap:8px; flex-shrink:0; }
.icon-btn {
  width:36px; height:36px; border-radius:var(--r-sm);
  display:flex; align-items:center; justify-content:center;
  background:var(--bg-soft); border:1px solid var(--border);
  color:var(--ink-3); transition:all .2s;
}
.icon-btn:hover { background:var(--violet-ghost); border-color:var(--violet-border); color:var(--violet); }
.icon-btn.close-btn:hover { transform:rotate(90deg); }

/* ═══════════════════════════════════════════
   LESSONS MODAL
═══════════════════════════════════════════ */
#bd-lessons .modal { max-width:800px; }
.modal-scroll { overflow-y:auto; padding:1.4rem 1.6rem; flex:1; }
.lessons-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(185px,1fr));
  gap:.85rem;
}
.lsn-card {
  background:var(--bg-card); border:1.5px solid var(--border);
  border-radius:var(--r-lg); padding:1.2rem 1.1rem;
  cursor:pointer; transition:all .25s var(--ease);
  display:flex; flex-direction:column; gap:.5rem;
  position:relative; overflow:hidden;
}
.lsn-card::before {
  content:''; position:absolute;
  left:0; top:0; bottom:0; width:3px;
  background:var(--violet); border-radius:0 3px 3px 0;
  transform:scaleY(0); transform-origin:center;
  transition:transform .25s var(--ease);
}
.lsn-card:hover::before { transform:scaleY(1); }
.lsn-card:hover { border-color:var(--violet-border); transform:translateY(-3px); box-shadow:var(--shadow-md); }
.lsn-num { font-size:.63rem; font-weight:700; letter-spacing:.12em; text-transform:uppercase; color:var(--violet); }
.lsn-name { font-size:.88rem; font-weight:600; color:var(--ink); line-height:1.45; }
.lsn-meta {
  display:flex; align-items:center; gap:6px;
  font-size:.7rem; color:var(--ink-4); margin-top:auto; padding-top:.3rem;
}
.lsn-meta-sep { width:2px; height:2px; border-radius:50%; background:var(--ink-4); }

/* ═══════════════════════════════════════════
   VIDEO PLAYER MODAL — ARCHITECTURE
   
   Desktop: flex-row  — video left, playlist right (fixed 300px)
   Mobile:  flex-col  — video top (16:9), playlist bottom = 37% of popup height

   CRITICAL scroll fix:
   • .player-shell is the flex parent with a known height
   • .playlist-side has overflow:hidden and flex-direction:column
   • .pl-list has flex:1 + min-height:0 + overflow-y:auto
═══════════════════════════════════════════ */
#bd-player .modal { max-width:1120px; }

.player-shell {
  display:flex;
  flex-direction:row;               /* desktop side-by-side */
  flex:1;
  min-height:0;
  overflow:hidden;
  /* desktop: constrain height so playlist can scroll */
  height:clamp(360px,50vw,560px);
}

/* ── LEFT: Video area ── */
.pvideo {
  flex:1; min-width:0;
  display:flex; flex-direction:column;
  background:#06040e; overflow:hidden;
}
/* 16:9 container via padding trick */
.pvideo-vp {
  position:relative; width:100%;
  padding-bottom:56.25%; flex-shrink:0;
}
.pvideo-vp iframe,
.pvideo-ph {
  position:absolute; inset:0; width:100%; height:100%; border:none;
}
.pvideo-ph {
  display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:16px;
  background:#06040e;
}
.pvideo-ph-ring {
  width:72px; height:72px; border-radius:50%;
  background:rgba(91,61,232,.15);
  border:1.5px solid rgba(91,61,232,.25);
  display:flex; align-items:center; justify-content:center;
  animation:pulse-ring 3s ease-in-out infinite;
}
@keyframes pulse-ring {
  0%,100%{box-shadow:0 0 0 0 rgba(91,61,232,.2)}
  50%{box-shadow:0 0 0 12px rgba(91,61,232,0)}
}
.pvideo-ph p { font-size:.8rem; color:rgba(255,255,255,.38); font-weight:400; }

.pvideo-meta {
  padding:.9rem 1.2rem; background:#0d0a1a;
  border-top:1px solid rgba(255,255,255,.06); flex-shrink:0;
}
.pvideo-meta h3 { font-size:.92rem; font-weight:600; color:#fff; margin-bottom:2px; }
.pvideo-meta-sub { font-size:.7rem; color:rgba(255,255,255,.38); }
.pvideo-progress { height:2px; background:rgba(255,255,255,.08); border-radius:2px; margin-top:.65rem; }
.pvideo-bar {
  height:100%; width:0; border-radius:2px;
  background:linear-gradient(90deg,var(--violet),var(--violet-3));
  transition:width .6s var(--ease);
}

/* ── RIGHT: Playlist ── */
.playlist-side {
  width:308px; flex-shrink:0;
  display:flex; flex-direction:column;
  border-left:1px solid var(--border);
  background:var(--bg-card);
  overflow:hidden;             /* parent clips children */
  min-height:0;
}
.pl-hdr {
  display:flex; align-items:center; justify-content:space-between;
  padding:.85rem 1.1rem; border-bottom:1px solid var(--border);
  background:var(--bg-card); flex-shrink:0;
}
.pl-hdr-title {
  font-size:.67rem; font-weight:700; letter-spacing:.13em;
  text-transform:uppercase; color:var(--ink-3);
  display:flex; align-items:center; gap:7px;
}
.pl-badge {
  background:var(--violet-ghost); color:var(--violet);
  font-size:.67rem; font-weight:700;
  padding:2px 9px; border-radius:20px;
  border:1px solid var(--violet-border);
}
/* THE KEY SCROLL FIX */
.pl-list {
  overflow-y:auto;
  flex:1;
  min-height:0;         /* ← essential for flex child to scroll */
  -webkit-overflow-scrolling:touch;
}
.pl-item {
  display:flex; align-items:center; gap:10px;
  padding:10px 11px; border-bottom:1px solid var(--border);
  cursor:pointer; position:relative;
  transition:background .18s; user-select:none;
}
.pl-item:last-child { border-bottom:none; }
.pl-item:hover { background:var(--bg-soft); }
.pl-item.active { background:var(--violet-ghost); }
.pl-item.active::before {
  content:''; position:absolute;
  left:0; top:0; bottom:0; width:3px;
  background:var(--violet); border-radius:0 3px 3px 0;
}
.pl-num {
  font-size:.68rem; font-weight:700; color:var(--ink-4);
  width:20px; flex-shrink:0; text-align:center; line-height:1;
}
.pl-item.active .pl-num { color:var(--violet); }
.pl-thumb {
  width:68px; height:42px; border-radius:var(--r-sm);
  flex-shrink:0; overflow:hidden; position:relative;
  background:var(--bg-soft);
}
.pl-thumb-bg { width:100%; height:100%; background-size:cover; background-position:center; }
.pl-thumb-ov {
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(91,61,232,.55);
  opacity:0; transition:opacity .2s;
}
.pl-item.active .pl-thumb-ov { opacity:1; }
.pl-info { flex:1; min-width:0; }
.pl-name {
  font-size:.78rem; font-weight:500; color:var(--ink-2);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  line-height:1.4;
}
.pl-item.active .pl-name { color:var(--violet); font-weight:600; }
.pl-dur { font-size:.67rem; color:var(--ink-4); margin-top:2px; }

/* ───── MOBILE ───── */
@media (max-width:700px) {
  /* popup takes most of screen */
  .backdrop { padding:.4rem; }
  #bd-player .modal { max-height:96vh; border-radius:var(--r-xl); }

  /* shell switches to column */
  .player-shell {
    flex-direction:column;
    height:100%;         /* fill the modal flex */
    overflow:hidden;
  }

  /* video top region: auto-sized by 16:9 padding trick */
  .pvideo { flex-shrink:0; }

  /* playlist = 37% of the modal's total height */
  .playlist-side {
    width:100%;
    border-left:none;
    border-top:1.5px solid var(--border);
    flex-shrink:0;
    /* 37% of modal height — modal max-height is 96vh */
    height:37vh;
    /* pl-list inside will scroll because of flex:1 + min-height:0 */
  }

  .pl-item { padding:9px 12px; }
  .pl-thumb { width:58px; height:36px; }
  .pl-name { font-size:.76rem; }

  .mhdr { padding:1rem 1.2rem; }
  .mhdr-title { font-size:1.05rem; }
}

/* Tablet */
@media (max-width:920px) and (min-width:701px) {
  .player-shell { height:clamp(320px,46vw,500px); }
  .playlist-side { width:250px; }
}

/* ═══════════════════════════════════════════
   CTA BANNER
═══════════════════════════════════════════ */
.cta-banner {
  margin:2.5rem clamp(1rem,4vw,2.5rem) 2rem;
  border-radius:var(--r-xl);
  background:linear-gradient(140deg,#3d25c4 0%,var(--violet) 45%,#8b68f0 80%,#a87ef5 100%);
  padding:clamp(2rem,5vw,3rem) clamp(1.5rem,4vw,3.5rem);
  display:flex; align-items:center; justify-content:space-between;
  gap:2rem; flex-wrap:wrap;
  position:relative; overflow:hidden;
}
.cta-banner::before {
  content:''; position:absolute;
  width:400px; height:400px; border-radius:50%;
  background:rgba(255,255,255,.05);
  top:-160px; right:-100px;
}
.cta-banner::after {
  content:''; position:absolute;
  width:250px; height:250px; border-radius:50%;
  background:rgba(255,255,255,.04);
  bottom:-100px; right:25%;
}
.cta-text { position:relative; z-index:1; }
.cta-text h2 {
  font-family:'Playfair Display',serif;
  font-size:clamp(1.5rem,3.5vw,2.2rem);
  font-weight:800; color:#fff; line-height:1.15;
}
.cta-text p { color:rgba(255,255,255,.7); margin-top:.5rem; font-size:.95rem; }
.cta-btn {
  position:relative; z-index:1;
  display:flex; align-items:center; gap:9px;
  background:#fff; color:var(--violet);
  font-weight:700; font-size:.9rem;
  padding:14px 28px; border-radius:var(--r-md);
  box-shadow:0 8px 28px rgba(0,0,0,.16);
  white-space:nowrap; flex-shrink:0;
  transition:all var(--t) var(--ease);
}
.cta-btn:hover { transform:translateY(-2px); box-shadow:0 14px 40px rgba(0,0,0,.2); }

/* ═══════════════════════════════════════════
   FOOTER
═══════════════════════════════════════════ */
.footer {
  display:flex; align-items:center; justify-content:space-between;
  flex-wrap:wrap; gap:1rem;
  padding:1.8rem clamp(1rem,4vw,2.5rem);
  border-top:1px solid var(--border);
}
.footer-brand { display:flex; align-items:center; gap:9px; }
.footer-brand-mark {
  width:30px; height:30px; border-radius:8px;
  background:linear-gradient(145deg,var(--violet),var(--violet-2));
  display:flex; align-items:center; justify-content:center;
}
.footer-brand-name {
  font-family:'Playfair Display',serif;
  font-size:1.1rem; font-weight:700; color:var(--ink);
}
.footer-copy { font-size:.75rem; color:var(--ink-4); }
.footer-links { display:flex; gap:1.5rem; }
.footer-links a { font-size:.78rem; color:var(--ink-3); transition:color .2s; }
.footer-links a:hover { color:var(--violet); }

/* ═══════════════════════════════════════════
   ANIMATIONS
═══════════════════════════════════════════ */
.fade-up { opacity:0; transform:translateY(24px); transition:opacity .7s var(--ease), transform .7s var(--ease); }
.fade-up.vis { opacity:1; transform:translateY(0); }
.stagger > * { opacity:0; transform:translateY(20px); transition:opacity .55s var(--ease), transform .55s var(--ease); }
.stagger.vis > * { opacity:1; transform:translateY(0); }
.stagger.vis > *:nth-child(1){transition-delay:.03s}
.stagger.vis > *:nth-child(2){transition-delay:.07s}
.stagger.vis > *:nth-child(3){transition-delay:.11s}
.stagger.vis > *:nth-child(4){transition-delay:.15s}
.stagger.vis > *:nth-child(5){transition-delay:.19s}
.stagger.vis > *:nth-child(6){transition-delay:.23s}
.stagger.vis > *:nth-child(7){transition-delay:.27s}
.stagger.vis > *:nth-child(8){transition-delay:.31s}
.stagger.vis > *:nth-child(9){transition-delay:.35s}
.stagger.vis > *:nth-child(10){transition-delay:.39s}

/* ═══════════════════════════════════════════
   RESPONSIVE HELPERS
═══════════════════════════════════════════ */
@media (max-width:768px) {
  .nav-center { display:none; }
  .nav-avatar { display:none; }
  .burger { display:flex; }
  .hero-stats { flex-wrap:wrap; }
  .hstat { padding:.9rem 1.4rem; }
  .lessons-grid { grid-template-columns:repeat(auto-fill,minmax(155px,1fr)); }
}
</style>
</head>
<body>

<!-- ════════════════ NAVBAR ════════════════ -->
<nav class="nav">
  <a href="#" class="nav-brand">
    <div class="nav-logo-wrap">
      <!-- Book + spark icon -->
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 5.5C3 4.4 3.9 3.5 5 3.5H11V18.5H5C3.9 18.5 3 17.6 3 16.5V5.5Z" fill="rgba(255,255,255,0.25)" stroke="white" stroke-width="1.4"/>
        <path d="M11 3.5H17C18.1 3.5 19 4.4 19 5.5V16.5C19 17.6 18.1 18.5 17 18.5H11V3.5Z" fill="rgba(255,255,255,0.12)" stroke="white" stroke-width="1.4"/>
        <line x1="11" y1="3.5" x2="11" y2="18.5" stroke="white" stroke-width="1.2" stroke-dasharray="2 1.5"/>
        <path d="M14 8.5L15.2 7L15.5 8.8L17 9.5L15.5 10.2L15.2 12L14 10.5L12.5 10.2L14 9.5L12.5 8.8L14 8.5Z" fill="white" opacity="0.9"/>
      </svg>
    </div>
    <span class="nav-brand-name">Sa<span>hl</span></span>
  </a>

  <!-- Center pill nav -->
  <nav class="nav-center">
    <a href="#" class="nav-pill active">
      <span class="icon">
        <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><path d="M7.5 1L13.5 6V14H9.5V10H5.5V14H1.5V6L7.5 1Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/></svg>
      </span>
      Home
    </a>
    <a href="#" class="nav-pill">
      <span class="icon">
        <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="7.5" cy="5.5" r="3" stroke="currentColor" stroke-width="1.4"/><path d="M2 13.5C2 11 4.5 9 7.5 9C10.5 9 13 11 13 13.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
      </span>
      Profile
    </a>
    <a href="#" class="nav-pill">
      <span class="icon">
        <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="7.5" cy="7.5" r="2.2" stroke="currentColor" stroke-width="1.4"/><path d="M7.5 1.5V2.5M7.5 12.5V13.5M1.5 7.5H2.5M12.5 7.5H13.5M3.2 3.2L3.9 3.9M11.1 11.1L11.8 11.8M11.8 3.2L11.1 3.9M3.9 11.1L3.2 11.8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
      </span>
      Settings
    </a>
  </nav>

  <div class="nav-actions">
    <!-- Notifications -->
    <button class="nav-icon-btn" aria-label="Notifications">
      <svg width="17" height="17" viewBox="0 0 17 17" fill="none">
        <path d="M8.5 1.5C6 1.5 4 3.5 4 6V10L2.5 12H14.5L13 10V6C13 3.5 11 1.5 8.5 1.5Z" stroke="currentColor" stroke-width="1.4" stroke-linejoin="round"/>
        <path d="M7 12.5C7 13.3 7.7 14 8.5 14C9.3 14 10 13.3 10 12.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
        <circle cx="12" cy="4" r="2.2" fill="#e84560" stroke="white" stroke-width="1.2"/>
      </svg>
    </button>
    <!-- Avatar -->
    <div class="nav-avatar" aria-label="Profile">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <circle cx="8" cy="5.5" r="3" stroke="var(--violet)" stroke-width="1.4"/>
        <path d="M2 14C2 11.2 4.7 9 8 9C11.3 9 14 11.2 14 14" stroke="var(--violet)" stroke-width="1.4" stroke-linecap="round"/>
      </svg>
    </div>
    <!-- Burger -->
    <button class="burger" id="burger" aria-label="Menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- Drawer scrim + drawer -->
<div class="drawer-scrim" id="scrim"></div>
<div class="drawer" id="drawer">
  <div class="drawer-label">Navigation</div>
  <a href="#" class="drawer-item">
    <span class="icon">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M9 1L16 7V17H12V12H6V17H2V7L9 1Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg>
    </span>
    Home
  </a>
  <a href="#" class="drawer-item">
    <span class="icon">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><circle cx="9" cy="6.5" r="3.5" stroke="currentColor" stroke-width="1.5"/><path d="M2 16C2 12.7 5.1 10 9 10C12.9 10 16 12.7 16 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
    </span>
    Profile
  </a>
  <a href="#" class="drawer-item">
    <span class="icon">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><circle cx="9" cy="9" r="2.5" stroke="currentColor" stroke-width="1.5"/><path d="M9 1.5V3M9 15V16.5M1.5 9H3M15 9H16.5M3.6 3.6L4.7 4.7M13.3 13.3L14.4 14.4M14.4 3.6L13.3 4.7M4.7 13.3L3.6 14.4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
    </span>
    Settings
  </a>
  <div class="drawer-sep"></div>
  <div class="drawer-label">Account</div>
  <button class="drawer-item">
    <span class="icon">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M6 9H16M13 6L16 9L13 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M10 4V3C10 2.4 9.6 2 9 2H3C2.4 2 2 2.4 2 3V15C2 15.6 2.4 16 3 16H9C9.6 16 10 15.6 10 15V14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
    </span>
    Sign Out
  </button>
</div>

<!-- ════════════════ HERO ════════════════ -->
<div class="hero fade-up">
  <div class="hero-badge">
    <div class="hero-badge-dot">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
        <path d="M6 1L7.5 4.5L11 5L8.5 7.5L9.2 11L6 9.2L2.8 11L3.5 7.5L1 5L4.5 4.5L6 1Z" fill="white"/>
      </svg>
    </div>
    Academic Platform 2025
  </div>
  <h1>Learn anything,<br><em>effortlessly.</em></h1>
  <p class="hero-desc">Sahl brings your whole academic journey together — explore subjects, watch expert lessons, and grow at your own pace.</p>
  <div class="hero-cta">
    <button class="btn-primary" onclick="document.getElementById('subjects').scrollIntoView({behavior:'smooth'})">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3 8H13M10 5L13 8L10 11" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
      Explore Subjects
    </button>
    <button class="btn-secondary">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="6.5" stroke="currentColor" stroke-width="1.4"/><polygon points="6.5,5.5 11.5,8 6.5,10.5" fill="currentColor"/></svg>
      Watch Demo
    </button>
  </div>
  <div class="hero-stats">
    <div class="hstat"><div class="hstat-val">12k+</div><div class="hstat-lbl">Active Learners</div></div>
    <div class="hstat"><div class="hstat-val">340+</div><div class="hstat-lbl">Video Lessons</div></div>
    <div class="hstat"><div class="hstat-val">18</div><div class="hstat-lbl">Subjects</div></div>
    <div class="hstat"><div class="hstat-val">98%</div><div class="hstat-lbl">Satisfaction</div></div>
  </div>
</div>

<!-- ════════════════ WHAT'S NEW ════════════════ -->
<section class="section">
  <div class="sec-head fade-up">
    <div class="sec-left">
      <div class="sec-eyebrow">Latest Updates</div>
      <div class="sec-title">What's New</div>
    </div>
    <a href="#" class="sec-link">View all
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3 7H11M8 4L11 7L8 10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </a>
  </div>
  <div class="rail stagger" id="wnRail"></div>
</section>

<!-- ════════════════ SUBJECTS ════════════════ -->
<section class="section" id="subjects">
  <div class="sec-head fade-up">
    <div class="sec-left">
      <div class="sec-eyebrow">Browse</div>
      <div class="sec-title">Subjects</div>
    </div>
    <a href="#" class="sec-link">All subjects
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3 7H11M8 4L11 7L8 10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </a>
  </div>
  <div class="rail stagger" id="subjRail"></div>
</section>

<!-- ════════════════ LATEST VIDEOS ════════════════ -->
<section class="section">
  <div class="sec-head fade-up">
    <div class="sec-left">
      <div class="sec-eyebrow">Fresh Content</div>
      <div class="sec-title">Latest Videos</div>
    </div>
    <a href="#" class="sec-link">Browse all
      <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3 7H11M8 4L11 7L8 10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </a>
  </div>
  <div class="rail stagger" id="vidRail"></div>
</section>

<!-- ════════════════ CTA ════════════════ -->
<div class="cta-banner fade-up">
  <div class="cta-text">
    <h2>Ready to dive deeper?</h2>
    <p>Create your free account and unlock every lesson today.</p>
  </div>
  <button class="cta-btn">
    Get Started Free
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3 8H13M10 5L13 8L10 11" stroke="var(--violet)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
  </button>
</div>

<!-- ════════════════ FOOTER ════════════════ -->
<footer class="footer">
  <div class="footer-brand">
    <div class="footer-brand-mark">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path d="M2 4C2 3.4 2.4 3 3 3H8V13H3C2.4 13 2 12.6 2 12V4Z" fill="rgba(255,255,255,0.3)" stroke="white" stroke-width="1.2"/>
        <path d="M8 3H13C13.6 3 14 3.4 14 4V12C14 12.6 13.6 13 13 13H8V3Z" fill="rgba(255,255,255,0.15)" stroke="white" stroke-width="1.2"/>
      </svg>
    </div>
    <span class="footer-brand-name">Sahl</span>
  </div>
  <span class="footer-copy">&copy; 2025 Sahl. Built for learners, by learners.</span>
  <nav class="footer-links">
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Contact</a>
  </nav>
</footer>

<!-- ════════════════════════════════════
     MODAL 1 — LESSONS
════════════════════════════════════ -->
<div class="backdrop" id="bd-lessons">
  <div class="modal">
    <div class="mhdr">
      <div class="mhdr-info">
        <div class="mhdr-title" id="lsn-title">Lessons</div>
        <div class="mhdr-sub" id="lsn-sub">Choose a lesson to begin</div>
      </div>
      <div class="mhdr-actions">
        <button class="icon-btn" aria-label="Search">
          <svg width="15" height="15" viewBox="0 0 15 15" fill="none"><circle cx="6.5" cy="6.5" r="4.5" stroke="currentColor" stroke-width="1.4"/><path d="M10 10L13.5 13.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
        </button>
        <button class="icon-btn close-btn" onclick="closeModal('bd-lessons')" aria-label="Close">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M1 1L13 13M13 1L1 13" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
    <div class="modal-scroll">
      <div class="lessons-grid" id="lessonsGrid"></div>
    </div>
  </div>
</div>

<!-- ════════════════════════════════════
     MODAL 2 — VIDEO PLAYER
════════════════════════════════════ -->
<div class="backdrop" id="bd-player">
  <div class="modal">
    <div class="mhdr">
      <div class="mhdr-info">
        <div class="mhdr-title" id="pl-title">Video Player</div>
        <div class="mhdr-sub" id="pl-sub">0 videos</div>
      </div>
      <div class="mhdr-actions">
        <button class="icon-btn close-btn" onclick="closeModal('bd-player')" aria-label="Close">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M1 1L13 13M13 1L1 13" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>

    <div class="player-shell">
      <!-- LEFT: video -->
      <div class="pvideo">
        <div class="pvideo-vp">
          <div class="pvideo-ph" id="playerPh">
            <div class="pvideo-ph-ring">
              <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                <polygon points="10,7 22,14 10,21" fill="rgba(147,117,239,0.8)"/>
              </svg>
            </div>
            <p>Select a video from the playlist</p>
          </div>
          <iframe id="playerFrame" src="" allowfullscreen allow="autoplay;encrypted-media" style="display:none"></iframe>
        </div>
        <div class="pvideo-meta" id="playerMeta" style="display:none">
          <h3 id="metaTitle">—</h3>
          <div class="pvideo-meta-sub" id="metaSub">—</div>
          <div class="pvideo-progress"><div class="pvideo-bar" id="progBar"></div></div>
        </div>
      </div>

      <!-- RIGHT: playlist -->
      <div class="playlist-side">
        <div class="pl-hdr">
          <span class="pl-hdr-title">
            <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><rect x="1" y="2" width="11" height="1.8" rx=".9" fill="currentColor"/><rect x="1" y="5.6" width="8" height="1.8" rx=".9" fill="currentColor"/><rect x="1" y="9.2" width="9.5" height="1.8" rx=".9" fill="currentColor"/></svg>
            Playlist
          </span>
          <span class="pl-badge" id="plBadge">0 videos</span>
        </div>
        <div class="pl-list" id="plList"></div>
      </div>
    </div>
  </div>
</div>

<!-- ════════════════ JAVASCRIPT ════════════════ -->
<script>
/* ──────────────────────────────────────────
   SVG ICON LIBRARY (for subject cards)
────────────────────────────────────────── */
const SUBJECT_ICONS = {
  Math: {
    bg:'#f0ecff',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M5 13H21" stroke="#5b3de8" stroke-width="1.8" stroke-linecap="round"/>
      <path d="M13 5V21" stroke="#5b3de8" stroke-width="1.8" stroke-linecap="round"/>
      <path d="M6 19L10 15M10 19L6 15" stroke="#5b3de8" stroke-width="1.8" stroke-linecap="round"/>
      <circle cx="19" cy="17" r="2.2" stroke="#5b3de8" stroke-width="1.6"/>
      <path d="M7 8H11" stroke="#5b3de8" stroke-width="1.8" stroke-linecap="round"/>
    </svg>`
  },
  Physics: {
    bg:'#fff8ec',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <ellipse cx="13" cy="13" rx="9" ry="4.5" stroke="#e8a020" stroke-width="1.6" transform="rotate(0 13 13)"/>
      <ellipse cx="13" cy="13" rx="9" ry="4.5" stroke="#e8a020" stroke-width="1.6" transform="rotate(60 13 13)"/>
      <ellipse cx="13" cy="13" rx="9" ry="4.5" stroke="#e8a020" stroke-width="1.6" transform="rotate(120 13 13)"/>
      <circle cx="13" cy="13" r="2.2" fill="#e8a020"/>
    </svg>`
  },
  English: {
    bg:'#eafaf8',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <rect x="4" y="4" width="12" height="16" rx="2" stroke="#0fb8a6" stroke-width="1.6"/>
      <path d="M8 9H12M8 12.5H14M8 16H11" stroke="#0fb8a6" stroke-width="1.5" stroke-linecap="round"/>
      <path d="M18 10L22 13L18 16" stroke="#0fb8a6" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
  },
  Chemistry: {
    bg:'#fff0f3',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M10 4V12L5 20H21L16 12V4" stroke="#e84560" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8.5 4H17.5" stroke="#e84560" stroke-width="1.6" stroke-linecap="round"/>
      <circle cx="9" cy="17" r="1.2" fill="#e84560"/>
      <circle cx="14" cy="15" r="1.2" fill="#e84560"/>
      <circle cx="17" cy="18" r="1.2" fill="#e84560"/>
    </svg>`
  },
  Biology: {
    bg:'#eafaf8',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M13 4C13 4 8 7 8 12C8 17 13 22 13 22C13 22 18 17 18 12C18 7 13 4 13 4Z" stroke="#0fb8a6" stroke-width="1.6" stroke-linejoin="round"/>
      <path d="M6 9C6 9 10 10 13 13C16 16 17 20 17 20" stroke="#0fb8a6" stroke-width="1.4" stroke-linecap="round"/>
      <path d="M20 9C20 9 16 10 13 13C10 16 9 20 9 20" stroke="#0fb8a6" stroke-width="1.4" stroke-linecap="round"/>
    </svg>`
  },
  History: {
    bg:'#fff8ec',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M4 20V10L13 4L22 10V20H4Z" stroke="#e8a020" stroke-width="1.6" stroke-linejoin="round"/>
      <rect x="9.5" y="13" width="7" height="7" rx="1" stroke="#e8a020" stroke-width="1.5"/>
      <path d="M9 7.5H17" stroke="#e8a020" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`
  },
  CS: {
    bg:'#f0ecff',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <rect x="3" y="5" width="20" height="14" rx="2.5" stroke="#5b3de8" stroke-width="1.6"/>
      <path d="M3 18H23" stroke="#5b3de8" stroke-width="1.4"/>
      <path d="M10 22H16M13 19V22" stroke="#5b3de8" stroke-width="1.5" stroke-linecap="round"/>
      <path d="M8 11L10.5 13L8 15" stroke="#5b3de8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M13.5 15H17" stroke="#5b3de8" stroke-width="1.5" stroke-linecap="round"/>
    </svg>`
  },
  Arabic: {
    bg:'#fff0f3',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M4 9C6 9 8 10 8 12V18C8 19 8.9 20 10 20H14" stroke="#e84560" stroke-width="1.6" stroke-linecap="round"/>
      <path d="M14 20C16 20 17 18.5 17 17C17 15.5 15.5 14.5 14 15" stroke="#e84560" stroke-width="1.6" stroke-linecap="round"/>
      <circle cx="19" cy="10" r="2.5" stroke="#e84560" stroke-width="1.5"/>
      <path d="M19 12.5V16" stroke="#e84560" stroke-width="1.5" stroke-linecap="round"/>
      <circle cx="19" cy="18" r="1" fill="#e84560"/>
      <path d="M6 7L8 9" stroke="#e84560" stroke-width="1.4" stroke-linecap="round"/>
    </svg>`
  },
  French: {
    bg:'#eafaf8',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <path d="M8 4H18C19.1 4 20 4.9 20 6V10C20 14 16 17 13 19C10 17 6 14 6 10V6C6 4.9 6.9 4 8 4Z" stroke="#0fb8a6" stroke-width="1.6" stroke-linejoin="round"/>
      <path d="M10 12L12.5 14.5L17 9.5" stroke="#0fb8a6" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
  },
  Geography: {
    bg:'#f0ecff',
    svg:`<svg width="26" height="26" viewBox="0 0 26 26" fill="none">
      <circle cx="13" cy="13" r="9" stroke="#5b3de8" stroke-width="1.6"/>
      <path d="M4 13H22" stroke="#5b3de8" stroke-width="1.3"/>
      <path d="M13 4C10.5 7 9.5 10 9.5 13C9.5 16 10.5 19 13 22" stroke="#5b3de8" stroke-width="1.3"/>
      <path d="M13 4C15.5 7 16.5 10 16.5 13C16.5 16 15.5 19 13 22" stroke="#5b3de8" stroke-width="1.3"/>
      <path d="M5.5 8.5H20.5M5.5 17.5H20.5" stroke="#5b3de8" stroke-width="1"/>
    </svg>`
  }
};

/* ──────────────────────────────────────────
   DATA
────────────────────────────────────────── */
const GRADS = [
  'linear-gradient(135deg,#1f0a44,#6c4de6)',
  'linear-gradient(135deg,#082a1a,#1e7a4a)',
  'linear-gradient(135deg,#2a0808,#8b2018)',
  'linear-gradient(135deg,#0a1a3a,#204a8b)',
  'linear-gradient(135deg,#1a1400,#6b5500)',
  'linear-gradient(135deg,#08201a,#126b5a)',
  'linear-gradient(135deg,#1a0a2a,#5a2a8b)',
  'linear-gradient(135deg,#100a25,#2a1a6b)',
];

const WN_DATA = [
  { tag:'New',    chipCls:'violet', title:'Physics Quantum Series',  desc:'30 brand-new lessons on quantum mechanics, now fully live and available.',     bg:GRADS[0] },
  { tag:'Feature',chipCls:'gold',   title:'AI-Powered Study Planner',desc:'Our adaptive planner learns your pace and builds personalised schedules.',    bg:GRADS[1] },
  { tag:'Event',  chipCls:'teal',   title:'Live Expert Q&A Sessions',desc:'Join live sessions with subject experts every Thursday at 7 PM.',              bg:GRADS[3] },
  { tag:'Update', chipCls:'rose',   title:'Mobile App v3.0 Released',desc:'2× faster, improved offline mode, and a beautiful redesigned interface.',      bg:GRADS[6] },
];

const SUBJECTS_DATA = [
  { label:'Math',      count:42 },
  { label:'Physics',   count:38 },
  { label:'English',   count:29 },
  { label:'Chemistry', count:31 },
  { label:'Biology',   count:26 },
  { label:'History',   count:22 },
  { label:'CS',        count:35 },
  { label:'Arabic',    count:18 },
  { label:'French',    count:14 },
  { label:'Geography', count:20 },
];

const LATEST_VIDS = [
  { title:'Solving Differential Equations Fast', dur:'14:32', subj:'Math',      bg:GRADS[0] },
  { title:'Understanding Photosynthesis',         dur:'11:20', subj:'Biology',   bg:GRADS[1] },
  { title:'The French Revolution Overview',       dur:'22:45', subj:'History',   bg:GRADS[3] },
  { title:'Intro to Python Programming',          dur:'28:00', subj:'CS',        bg:GRADS[6] },
  { title:'Organic Chemistry Essentials',         dur:'18:15', subj:'Chemistry', bg:GRADS[2] },
  { title:"Newton's Laws in Practice",            dur:'16:08', subj:'Physics',   bg:GRADS[7] },
];

function mkVids(name, n) {
  return Array.from({ length:n }, (_,j) => ({
    title:`${name} · Part ${j+1}`,
    dur:`${4+Math.floor(Math.random()*18)}:${String(Math.floor(Math.random()*60)).padStart(2,'0')}`,
    bg:GRADS[(j)%GRADS.length],
    driveId:null,
  }));
}
function mkLessons(subj, n) {
  return Array.from({ length:n }, (_,i) => ({
    num:String(i+1).padStart(2,'0'),
    name:`${subj} — Chapter ${i+1}`,
    vids:mkVids(`${subj} Ch.${i+1}`, 2+Math.floor(Math.random()*6)),
  }));
}
const LESSONS = {};
SUBJECTS_DATA.forEach(s => { LESSONS[s.label] = mkLessons(s.label, 4+Math.floor(Math.random()*4)); });

/* ──────────────────────────────────────────
   RENDER — WHAT'S NEW
────────────────────────────────────────── */
function renderWN() {
  document.getElementById('wnRail').innerHTML = WN_DATA.map(d => `
    <div class="wn-card">
      <div class="wn-bg" style="background:${d.bg}"></div>
      <div class="wn-overlay"></div>
      <div class="wn-body">
        <div class="wn-top">
          <div class="wn-chip ${d.chipCls}">${d.tag}</div>
          <button class="wn-corner-btn" aria-label="View">
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 10L10 2M10 2H5M10 2V7" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
        <div class="wn-bottom">
          <h3>${d.title}</h3>
          <p>${d.desc}</p>
        </div>
      </div>
    </div>`).join('');
}

/* ──────────────────────────────────────────
   RENDER — SUBJECTS
────────────────────────────────────────── */
function renderSubjects() {
  document.getElementById('subjRail').innerHTML = SUBJECTS_DATA.map(s => {
    const ic = SUBJECT_ICONS[s.label] || SUBJECT_ICONS.Math;
    return `
    <div class="subj-card" onclick="openLessons('${s.label}')">
      <div class="subj-shine"></div>
      <div class="subj-icon-wrap" style="background:${ic.bg}">${ic.svg}</div>
      <div class="subj-name">${s.label}</div>
      <div class="subj-count">${s.count} lessons</div>
    </div>`;
  }).join('');
}

/* ──────────────────────────────────────────
   RENDER — LATEST VIDEOS
────────────────────────────────────────── */
function renderLatest() {
  document.getElementById('vidRail').innerHTML = LATEST_VIDS.map((v,i) => `
    <div class="vid-card" onclick="openSingle(${i})">
      <div class="vid-thumb">
        <div class="vid-thumb-bg" style="background:${v.bg}"></div>
        <div class="vid-dur">${v.dur}</div>
        <div class="vid-play-ov">
          <div class="play-ring">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <polygon points="7,5 16,10 7,15" fill="#5b3de8"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="vid-body">
        <div class="vid-subj">${v.subj}</div>
        <div class="vid-title">${v.title}</div>
        <div class="vid-meta">
          <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><circle cx="6" cy="6" r="5" stroke="currentColor" stroke-width="1.2"/><path d="M6 3.5V6L7.5 7.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg>
          ${v.dur}
          <div class="vid-meta-sep"></div>
          HD
        </div>
      </div>
    </div>`).join('');
}

/* ──────────────────────────────────────────
   SKELETON
────────────────────────────────────────── */
function showSkeletons() {
  document.getElementById('wnRail').innerHTML   = Array(4).fill(`<div class="skel" style="flex:0 0 min(360px,80vw);height:240px"></div>`).join('');
  document.getElementById('subjRail').innerHTML = Array(8).fill(`<div class="skel" style="flex:0 0 min(140px,34vw);aspect-ratio:1"></div>`).join('');
  document.getElementById('vidRail').innerHTML  = Array(5).fill(`<div class="skel" style="flex:0 0 min(278px,76vw);height:265px"></div>`).join('');
}

/* ──────────────────────────────────────────
   MODAL HELPERS
────────────────────────────────────────── */
function openModal(id) {
  document.getElementById(id).classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeModal(id) {
  document.getElementById(id).classList.remove('open');
  if (!document.querySelector('.backdrop.open')) document.body.style.overflow = '';
}
document.querySelectorAll('.backdrop').forEach(el => {
  el.addEventListener('click', e => { if (e.target === el) closeModal(el.id); });
});
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') document.querySelectorAll('.backdrop.open').forEach(el => closeModal(el.id));
});

/* ──────────────────────────────────────────
   LESSONS MODAL
────────────────────────────────────────── */
function openLessons(subj) {
  const lessons = LESSONS[subj] || [];
  document.getElementById('lsn-title').textContent = subj;
  document.getElementById('lsn-sub').textContent = `${lessons.length} lessons · tap to open`;
  document.getElementById('lessonsGrid').innerHTML = lessons.map((l,i) => `
    <div class="lsn-card" onclick="openPlayer('${subj}',${i})">
      <div class="lsn-num">Chapter ${l.num}</div>
      <div class="lsn-name">${l.name}</div>
      <div class="lsn-meta">
        <svg width="11" height="11" viewBox="0 0 11 11" fill="none"><polygon points="2,2 9,5.5 2,9" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round"/></svg>
        ${l.vids.length} videos
        <div class="lsn-meta-sep"></div>
        ${Math.round(l.vids.reduce((a,v)=>{const[m,s]=v.dur.split(':');return a+parseInt(m)*60+parseInt(s);},0)/60)} min
      </div>
    </div>`).join('');
  openModal('bd-lessons');
}

/* ──────────────────────────────────────────
   VIDEO PLAYER
────────────────────────────────────────── */
let _lesson = null, _vidIdx = 0;

function openPlayer(subj, lIdx) {
  _lesson = LESSONS[subj][lIdx];
  _vidIdx = 0;
  setPlayerMeta(_lesson.name, subj, _lesson.vids.length);
  closeModal('bd-lessons');
  buildPlaylist();
  playVideo(0);
  openModal('bd-player');
}

function openSingle(idx) {
  const v = LATEST_VIDS[idx];
  _lesson = { name:v.title, vids:[{ title:v.title, dur:v.dur, bg:v.bg, driveId:null }] };
  _vidIdx = 0;
  setPlayerMeta(v.title, v.subj, 1);
  buildPlaylist();
  playVideo(0);
  openModal('bd-player');
}

function setPlayerMeta(title, subj, count) {
  document.getElementById('pl-title').textContent = title;
  document.getElementById('pl-sub').textContent   = `${subj} · ${count} video${count!==1?'s':''}`;
  document.getElementById('plBadge').textContent  = `${count} video${count!==1?'s':''}`;
}

function buildPlaylist() {
  document.getElementById('plList').innerHTML = _lesson.vids.map((v,i) => `
    <div class="pl-item${i===0?' active':''}" id="pli${i}" onclick="playVideo(${i})">
      <div class="pl-num">${String(i+1).padStart(2,'0')}</div>
      <div class="pl-thumb">
        <div class="pl-thumb-bg" style="background:${v.bg}"></div>
        <div class="pl-thumb-ov">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
            <rect x="2" y="2" width="3.5" height="10" rx="1.2" fill="white"/>
            <rect x="8.5" y="2" width="3.5" height="10" rx="1.2" fill="white"/>
          </svg>
        </div>
      </div>
      <div class="pl-info">
        <div class="pl-name">${v.title}</div>
        <div class="pl-dur">
          <svg width="9" height="9" viewBox="0 0 9 9" fill="none" style="display:inline;margin-right:3px">
            <circle cx="4.5" cy="4.5" r="3.5" stroke="currentColor" stroke-width="1"/>
            <path d="M4.5 2.5V4.5L5.8 5.8" stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
          </svg>${v.dur}
        </div>
      </div>
    </div>`).join('');
}

function playVideo(idx) {
  const vids = _lesson.vids;
  if (idx < 0 || idx >= vids.length) return;
  _vidIdx = idx;
  const v = vids[idx];

  // highlight
  document.querySelectorAll('.pl-item').forEach((el,i) => el.classList.toggle('active', i===idx));

  // auto-scroll active item within pl-list
  const plList = document.getElementById('plList');
  const item   = document.getElementById('pli'+idx);
  if (item && plList) {
    const iTop = item.offsetTop;
    const iBot = iTop + item.offsetHeight;
    const sTop = plList.scrollTop;
    const sCli = plList.clientHeight;
    if (iTop < sTop) plList.scrollTo({ top:iTop - 8, behavior:'smooth' });
    else if (iBot > sTop + sCli) plList.scrollTo({ top:iBot - sCli + 8, behavior:'smooth' });
  }

  // player
  const frame = document.getElementById('playerFrame');
  const ph    = document.getElementById('playerPh');
  if (v.driveId) {
    frame.src = `https://drive.google.com/file/d/${v.driveId}/preview?autoplay=1`;
    frame.style.display = 'block'; ph.style.display = 'none';
  } else {
    frame.style.display = 'none'; frame.src = ''; ph.style.display = 'flex';
  }

  const meta = document.getElementById('playerMeta');
  meta.style.display = 'block';
  document.getElementById('metaTitle').textContent = v.title;
  document.getElementById('metaSub').textContent   = `${_lesson.name} · ${v.dur}`;
  const bar = document.getElementById('progBar');
  bar.style.width = '0%';
  setTimeout(() => { bar.style.width = `${10+Math.round(Math.random()*65)}%`; }, 280);
}

/* ──────────────────────────────────────────
   BURGER / DRAWER
────────────────────────────────────────── */
const burger = document.getElementById('burger');
const drawer = document.getElementById('drawer');
const scrim  = document.getElementById('scrim');

function toggleDrawer(force) {
  const open = force !== undefined ? force : !drawer.classList.contains('open');
  drawer.classList.toggle('open', open);
  scrim.classList.toggle('open', open);
  burger.classList.toggle('open', open);
  burger.setAttribute('aria-expanded', String(open));
}
burger.addEventListener('click', () => toggleDrawer());
scrim.addEventListener('click',  () => toggleDrawer(false));

/* ──────────────────────────────────────────
   SCROLL ANIMATIONS
────────────────────────────────────────── */
const io = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) { e.target.classList.add('vis'); io.unobserve(e.target); }
  });
}, { threshold:.08 });
document.querySelectorAll('.fade-up, .stagger').forEach(el => io.observe(el));

/* ──────────────────────────────────────────
   INIT
────────────────────────────────────────── */
showSkeletons();
setTimeout(() => {
  renderWN(); renderSubjects(); renderLatest();
  document.querySelectorAll('.stagger').forEach(el => {
    io.observe(el);
    if (el.getBoundingClientRect().top < window.innerHeight) el.classList.add('vis');
  });
}, 900);
</script>
</body>
</html>
